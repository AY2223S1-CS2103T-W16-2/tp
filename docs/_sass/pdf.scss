// Adapted from
// https://www.michaelperrin.fr/blog/2019/11/printing-the-web-part-2-html-and-css-for-printing-books
// by Richard Domininck 2022
@page {
  size: A4;
  margin: 0.5in;

  @bottom-right {
    content: "Page " counter(page) " of " counter(pages);
    font-family: $base-font-family;
    font-size: small;
    margin-bottom: 1.5rem;
  }

  @top-left {
    content: string(section_title);
    font-family: $base-font-family;
    font-size: small;
    font-style: italic;
    margin-top: 1.5rem;
  }
}

@page :first {
  @top-left {
    content: none;
  }
}

@media print {
  article.post {
    h2:not(:first-child) {
      margin-top: 0;
      page-break-before: always;
    }

    h2,
    h3 {
      string-set: section_title content();
      page-break-after: avoid;
    }

    table {
      td {
        // FIXME: Remove hardcoding + hacky way
        img {
          max-width: 300px;
          display: inline-block;
        }

        &:has(img) {
          text-align: center;
        }
      }
    }
  }
}
